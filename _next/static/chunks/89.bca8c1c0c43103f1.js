(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{8116:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,i=u(e),a=i[0],s=i[1],l=new o((a+s)*3/4-s),f=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[f++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(function(e,t,n){for(var o,i=[],a=t;a<n;a+=3)i.push(r[(o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}(e,a,a+16383>s?s:a+16383));return 1===o?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===o&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},1315:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(8116),o=r(3613),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|y(e,t),n=a(r),o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(S(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(S(e,ArrayBuffer)||e&&S(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(S(e,SharedArrayBuffer)||e&&S(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);var o=function(e){if(s.isBuffer(e)){var t,r=0|c(e.length),n=a(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),a(e<0?0:0|c(e))}function h(e){for(var t=e.length<0?0:0|c(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function c(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function y(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||S(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(o)return n?-1:C(e).length;t=(""+t).toLowerCase(),o=!0}}function d(e,t,r){var o,i,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=k[e[i]];return o}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}(this,t,r);case"base64":return o=t,i=r,0===o&&i===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,o){var i;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(i=r=+r)!=i&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return -1;r=e.length-1}else if(r<0){if(!o)return -1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,o);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,o);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,o){var i,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var f=-1;for(i=r;i<s;i++)if(l(e,i)===l(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*a}else -1!==f&&(i-=i-f),f=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var h=!0,p=0;p<u;p++)if(l(e,i+p)!==l(t,p)){h=!1;break}if(h)return i}return -1}function w(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,u,l=e[o],f=null,h=l>239?4:l>223?3:l>191?2:1;if(o+h<=r)switch(h){case 1:l<128&&(f=l);break;case 2:(192&(i=e[o+1]))==128&&(u=(31&l)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],a=e[o+2],(192&i)==128&&(192&a)==128&&(u=(15&l)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],(192&i)==128&&(192&a)==128&&(192&s)==128&&(u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,o,i){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,o,i){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function B(e,t,r,n,i){return t=+t,r>>>=0,i||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,r,n,23,4),r+4}function A(e,t,r,n,i){return t=+t,r>>>=0,i||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,r,n,52,8),r+8}t.lW=s,t.h2=50,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(l(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return f(e)},s.allocUnsafeSlow=function(e){return f(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(S(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),S(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=s.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(S(i,Uint8Array))o+i.length>n.length?s.from(i).copy(n,o):Uint8Array.prototype.set.call(n,i,o);else if(s.isBuffer(i))i.copy(n,o);else throw TypeError('"list" argument must be an Array of Buffers');o+=i.length}return n},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):d.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,o){if(S(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var i=o-n,a=r-t,u=Math.min(i,a),l=this.slice(n,o),f=e.slice(t,r),h=0;h<u;++h)if(l[h]!==f[h]){i=l[h],a=f[h];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o,i,a,s,u,l,f,h,p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var c=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(s!=s)break;e[r+a]=s}return a}(this,e,t,r);case"utf8":case"utf-8":return o=t,i=r,O(C(e,this.length-o),this,o,i);case"ascii":case"latin1":case"binary":return a=t,s=r,O(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return u=t,l=r,O(U(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f=t,h=r,O(function(e,t){for(var r,n,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o.push(r%256),o.push(n);return o}(e,this.length-f),this,f,h);default:if(c)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;E(this,e,t,r,o,0)}var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;E(this,e,t,r,o,0)}var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);E(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);E(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var o,i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),u=a.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%u]}return this};var I=/[^+/0-9A-Za-z-_]/g;function C(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319||a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function U(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function O(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length)&&!(o>=e.length);++o)t[o+r]=e[o];return o}function S(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var k=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)t[n+o]=e[r]+e[o];return t}()},3613:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,l=u>>1,f=-7,h=r?o-1:0,p=r?-1:1,c=e[t+h];for(h+=p,i=c&(1<<-f)-1,c>>=-f,f+=s;f>0;i=256*i+e[t+h],h+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+e[t+h],h+=p,f-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(c?-1:1);a+=Math.pow(2,n),i-=l}return(c?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,u,l=8*i-o-1,f=(1<<l)-1,h=f>>1,p=23===o?5960464477539062e-23:0,c=n?0:i-1,y=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?t+=p/u:t+=p*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=f?(s=0,a=f):a+h>=1?(s=(t*u-1)*Math.pow(2,o),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;e[r+c]=255&s,c+=y,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[r+c]=255&a,c+=y,a/=256,l-=8);e[r+c-y]|=128*d}},8957:function(e,t,r){"use strict";r.r(t),r.d(t,{InferenceSession:function(){return v},Tensor:function(){return d},env:function(){return u},registerBackend:function(){return i}});let n={},o=[],i=(e,t,r)=>{if(t&&"function"==typeof t.init&&"function"==typeof t.createSessionHandler){let i=n[e];if(void 0===i)n[e]={backend:t,priority:r};else if(i.priority>r)return;else if(i.priority===r&&i.backend!==t)throw Error(`cannot register backend "${e}" using priority ${r}`);if(r>=0){let t=o.indexOf(e);-1!==t&&o.splice(t,1);for(let t=0;t<o.length;t++)if(n[o[t]].priority<=r){o.splice(t,0,e);return}o.push(e)}return}throw TypeError("not a valid backend")},a=async e=>{let t=0===e.length?o:e,r=[];for(let e of t){let t=n[e];if(t){if(t.initialized)return t.backend;if(t.aborted)continue;let n=!!t.initPromise;try{return n||(t.initPromise=t.backend.init()),await t.initPromise,t.initialized=!0,t.backend}catch(o){n||r.push({name:e,err:o}),t.aborted=!0}finally{delete t.initPromise}}}throw Error(`no available backend found. ERR: ${r.map(e=>`[${e.name}] ${e.err}`).join(", ")}`)};class s{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw Error(`Unsupported logging level: ${e}`);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}}let u=new s,l="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,f="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from,h=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),p=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);l&&(h.set("int64",BigInt64Array),p.set(BigInt64Array,"int64")),f&&(h.set("uint64",BigUint64Array),p.set(BigUint64Array,"uint64"));let c=e=>{let t=1;for(let r=0;r<e.length;r++){let n=e[r];if("number"!=typeof n||!Number.isSafeInteger(n))throw TypeError(`dims[${r}] must be an integer, got: ${n}`);if(n<0)throw RangeError(`dims[${r}] must be a non-negative integer, got: ${n}`);t*=n}return t};class y{constructor(e,t,r){let n,o,i;if("string"==typeof e){if(n=e,i=r,"string"===e){if(!Array.isArray(t))throw TypeError("A string tensor's data must be a string array.");o=t}else{let r=h.get(e);if(void 0===r)throw TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t))o=r.from(t);else if(t instanceof r)o=t;else throw TypeError(`A ${n} tensor's data must be type of ${r}`)}}else if(i=t,Array.isArray(e)){if(0===e.length)throw TypeError("Tensor type cannot be inferred from an empty array.");let t=typeof e[0];if("string"===t)n="string",o=e;else if("boolean"===t)n="bool",o=Uint8Array.from(e);else throw TypeError(`Invalid element type of data array: ${t}.`)}else{let t=p.get(e.constructor);if(void 0===t)throw TypeError(`Unsupported type for tensor data: ${e.constructor}.`);n=t,o=e}if(void 0===i)i=[o.length];else if(!Array.isArray(i))throw TypeError("A tensor's dims must be a number array");let a=c(i);if(a!==o.length)throw Error(`Tensor's size(${a}) does not match data length(${o.length}).`);this.dims=i,this.type=n,this.data=o,this.size=a}static bufferToTensor(e,t){let r,n;if(void 0===e)throw Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw Error("Image height and width must be defined");let{height:o,width:i}=t,a=t.norm;r=void 0===a||void 0===a.mean?255:a.mean,n=void 0===a||void 0===a.bias?0:a.bias;let s=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",l=o*i,f=new Float32Array("RGBA"===u?4*l:3*l),h=4,p=0,c=1,d=2,g=3,v=0,m=l,w=2*l,b=-1;"RGB"===s&&(h=3,p=0,c=1,d=2,g=-1),"RGBA"===u?b=3*l:"RBG"===u?(v=0,w=l,m=2*l):"BGR"===u&&(w=0,m=l,v=2*l);for(let t=0;t<l;t++,p+=h,d+=h,c+=h,g+=h)f[v++]=(e[p]+n)/r,f[m++]=(e[c]+n)/r,f[w++]=(e[d]+n)/r,-1!==b&&-1!==g&&(f[b++]=(e[g]+n)/r);return"RGBA"===u?new y("float32",f,[1,4,o,i]):new y("float32",f,[1,3,o,i])}static async fromImage(e,t){let r;let n="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,o="undefined"!=typeof ImageData&&e instanceof ImageData,i="undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap,a="undefined"!=typeof String&&(e instanceof String||"string"==typeof e),s={};if(n){let n=document.createElement("canvas"),o=n.getContext("2d");if(null!=o){let i=e.naturalHeight,a=e.naturalWidth;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(i=t.resizedHeight,a=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw Error("Image input config format must be RGBA for HTMLImageElement");if(s.tensorFormat="RGBA",void 0!==t.height&&t.height!==i)throw Error("Image input config height doesn't match HTMLImageElement height");if(s.height=i,void 0!==t.width&&t.width!==a)throw Error("Image input config width doesn't match HTMLImageElement width");s.width=a}else s.tensorFormat="RGBA",s.height=i,s.width=a;n.width=a,n.height=i,o.drawImage(e,0,0,a,i),r=o.getImageData(0,0,a,i).data}else throw Error("Can not access image data")}else if(o){let n,o;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(n=t.resizedHeight,o=t.resizedWidth):(n=e.height,o=e.width),void 0!==t){if(s=t,void 0!==t.bitmapFormat&&"RGBA"!==t.bitmapFormat)throw Error("Image input config format must be RGBA for ImageData");s.bitmapFormat="RGBA"}else s.bitmapFormat="RGBA";if(s.height=n,s.width=o,void 0!==t){let t=document.createElement("canvas");t.width=o,t.height=n;let i=t.getContext("2d");if(null!=i)i.putImageData(e,0,0),r=i.getImageData(0,0,o,n).data;else throw Error("Can not access image data")}else r=e.data}else if(i){if(void 0===t)throw Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw Error("Image input config format must be defined for ImageBitmap");let n=document.createElement("canvas").getContext("2d");if(null!=n){let o=e.height,i=e.width;if(n.drawImage(e,0,0,i,o),r=n.getImageData(0,0,i,o).data,void 0!==t){if(void 0!==t.height&&t.height!==o)throw Error("Image input config height doesn't match ImageBitmap height");if(s.height=o,void 0!==t.width&&t.width!==i)throw Error("Image input config width doesn't match ImageBitmap width");s.width=i}else s.height=o,s.width=i;return y.bufferToTensor(r,s)}throw Error("Can not access image data")}else if(a)return new Promise((r,n)=>{let o=document.createElement("canvas"),i=o.getContext("2d");if(!e||!i)return n();let a=new Image;a.crossOrigin="Anonymous",a.src=e,a.onload=()=>{o.width=a.width,o.height=a.height,i.drawImage(a,0,0,o.width,o.height);let e=i.getImageData(0,0,o.width,o.height);if(void 0!==t){if(void 0!==t.height&&t.height!==o.height)throw Error("Image input config height doesn't match ImageBitmap height");if(s.height=o.height,void 0!==t.width&&t.width!==o.width)throw Error("Image input config width doesn't match ImageBitmap width");s.width=o.width}else s.height=o.height,s.width=o.width;r(y.bufferToTensor(e.data,s))}});else throw Error("Input data provided is not supported - aborted tensor creation");if(void 0!==r)return y.bufferToTensor(r,s);throw Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var t,r;let n;let o=document.createElement("canvas").getContext("2d");if(null!=o){let i=this.dims[3],a=this.dims[2],s=this.dims[1],u=void 0!==e&&void 0!==e.format?e.format:"RGB",l=void 0!==e&&(null===(t=e.norm)||void 0===t?void 0:t.mean)!==void 0?e.norm.mean:255,f=void 0!==e&&(null===(r=e.norm)||void 0===r?void 0:r.bias)!==void 0?e.norm.bias:0,h=a*i;if(void 0!==e){if(void 0!==e.height&&e.height!==a)throw Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==i)throw Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===s&&"RGBA"!==e.format||3===s&&"RGB"!==e.format&&"BGR"!==e.format)throw Error("Tensor format doesn't match input tensor dims")}let p=0,c=1,y=2,d=3,g=0,v=h,m=2*h,w=-1;"RGBA"===u?(g=0,v=h,m=2*h,w=3*h):"RGB"===u?(g=0,v=h,m=2*h):"RBG"===u&&(g=0,m=h,v=2*h),n=o.createImageData(i,a);for(let e=0;e<a*i;p+=4,c+=4,y+=4,d+=4,e++)n.data[p]=(this.data[g++]-f)*l,n.data[c]=(this.data[v++]-f)*l,n.data[y]=(this.data[m++]-f)*l,n.data[d]=-1===w?255:(this.data[w++]-f)*l}else throw Error("Can not access image data");return n}reshape(e){return new y(this.type,this.data,e)}}let d=y;class g{constructor(e){this.handler=e}async run(e,t,r){let n={},o={};if("object"!=typeof e||null===e||e instanceof d||Array.isArray(e))throw TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"==typeof t){if(null===t)throw TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof d)throw TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw TypeError("'fetches' cannot be an empty array.");for(let e of(i=!1,t)){if("string"!=typeof e)throw TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw RangeError(`'fetches' contains invalid output name: ${e}.`);n[e]=null}if("object"==typeof r&&null!==r)o=r;else if(void 0!==r)throw TypeError("'options' must be an object.")}else{let e=!1,a=Object.getOwnPropertyNames(t);for(let r of this.outputNames)if(-1!==a.indexOf(r)){let o=t[r];(null===o||o instanceof d)&&(e=!0,i=!1,n[r]=o)}if(e){if("object"==typeof r&&null!==r)o=r;else if(void 0!==r)throw TypeError("'options' must be an object.")}else o=t}}else if(void 0!==t)throw TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let t of this.inputNames)if(void 0===e[t])throw Error(`input '${t}' is missing in 'feeds'.`);if(i)for(let e of this.outputNames)n[e]=null;let a=await this.handler.run(e,n,o),s={};for(let e in a)Object.hasOwnProperty.call(a,e)&&(s[e]=new d(a[e].type,a[e].data,a[e].dims));return s}static async create(e,t,r,n){let o;let i={};if("string"==typeof e){if(o=e,"object"==typeof t&&null!==t)i=t;else if(void 0!==t)throw TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(o=e,"object"==typeof t&&null!==t)i=t;else if(void 0!==t)throw TypeError("'options' must be an object.")}else if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer){let a=0,s=e.byteLength;if("object"==typeof t&&null!==t)i=t;else if("number"==typeof t){if(!Number.isSafeInteger(a=t))throw RangeError("'byteOffset' must be an integer.");if(a<0||a>=e.byteLength)throw RangeError(`'byteOffset' is out of range [0, ${e.byteLength}).`);if(s=e.byteLength-a,"number"==typeof r){if(!Number.isSafeInteger(s=r))throw RangeError("'byteLength' must be an integer.");if(s<=0||a+s>e.byteLength)throw RangeError(`'byteLength' is out of range (0, ${e.byteLength-a}].`);if("object"==typeof n&&null!==n)i=n;else if(void 0!==n)throw TypeError("'options' must be an object.")}else if(void 0!==r)throw TypeError("'byteLength' must be a number.")}else if(void 0!==t)throw TypeError("'options' must be an object.");o=new Uint8Array(e,a,s)}else throw TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let s=(i.executionProviders||[]).map(e=>"string"==typeof e?e:e.name),u=await a(s);return new g(await u.createSessionHandler(o,i))}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}let v=g},8927:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(5557)},1333:function(e,t,r){!function(){var t={452:function(e){"use strict";e.exports=r(4593)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}},a=!0;try{t[e](i,i.exports,o),a=!1}finally{a&&delete n[e]}return i.exports}o.ab="//";var i={};!function(){var e,t=(e=o(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=v(e));var n,o,i,a,s,u,l,f,h,p=(o=(n=e).auth,i=n.hostname,a=n.protocol||"",s=n.pathname||"",u=n.hash||"",l=n.query||"",f=!1,o=o?encodeURIComponent(o).replace(/%3A/i,":")+"@":"",n.host?f=o+n.host:i&&(f=o+(~i.indexOf(":")?"["+i+"]":i),n.port&&(f+=":"+n.port)),l&&"object"==typeof l&&(l=t.encode(l)),h=n.search||l&&"?"+l||"",a&&":"!==a.substr(-1)&&(a+=":"),n.slashes||(!a||r.test(a))&&!1!==f?(f="//"+(f||""),s&&"/"!==s[0]&&(s="/"+s)):f||(f=""),u&&"#"!==u[0]&&(u="#"+u),h&&"?"!==h[0]&&(h="?"+h),{protocol:a,host:f,pathname:s=s.replace(/[?#]/g,encodeURIComponent),search:h=h.replace("#","%23"),hash:u});return""+p.protocol+p.host+p.pathname+p.search+p.hash}var a="http://",s=a+"w.w",u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,l=/https?|ftp|gopher|file/;function f(e,t){var r="string"==typeof e?v(e):e;e="object"==typeof e?n(e):e;var o=v(t),i="";r.protocol&&!r.slashes&&(i=r.protocol,e=e.replace(r.protocol,""),i+="/"===t[0]||"/"===e[0]?"/":""),i&&o.protocol&&(i="",o.slashes||(i=o.protocol,t=t.replace(o.protocol,"")));var f=e.match(u);f&&!o.protocol&&(e=e.substr((i=f[1]+(f[2]||"")).length),/^\/\/[^/]/.test(t)&&(i=i.slice(0,-1)));var h=new URL(e,s+"/"),p=new URL(t,h).toString().replace(s,""),c=o.protocol||r.protocol;return c+=r.slashes||o.slashes?"//":"",!i&&c?p=p.replace(a,c):i&&(p=p.replace(a,"")),l.test(p)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==p.slice(-1)||(p=p.slice(0,-1)),i&&(p=i+("/"===p[0]?p.substr(1):p)),p}function h(){}h.prototype.parse=v,h.prototype.format=n,h.prototype.resolve=f,h.prototype.resolveObject=f;var p=/^https?|ftp|gopher|file/,c=/^(.*?)([#?].*)/,y=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,d=/^([a-z0-9.+-]*:)?\/\/\/*/i,g=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function v(e,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),e&&"object"==typeof e&&e instanceof h)return e;var i=(e=e.trim()).match(c);e=i?i[1].replace(/\\/g,"/")+i[2]:e.replace(/\\/g,"/"),g.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(y),u=d.test(e),l="";a&&(p.test(a[1])||(l=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(u=!1,p.test(a[1])?(l=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(l=a[1],e="/"+a[3]));var f,v=(i?i[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),m=v&&v[1],w=new h,b="",E="";try{f=new URL(e)}catch(t){b=t,l||o||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(E="/",e=e.substr(1));try{f=new URL(e,s)}catch(e){return w.protocol=l,w.href=l,w}}w.slashes=u&&!E,w.host="w.w"===f.host?"":f.host,w.hostname="w.w"===f.hostname?"":f.hostname.replace(/(\[|\])/g,""),w.protocol=b?l||null:f.protocol,w.search=f.search.replace(/\\/g,"%5C"),w.hash=f.hash.replace(/\\/g,"%5C");var x=e.split("#");!w.search&&~x[0].indexOf("?")&&(w.search="?"),w.hash||""!==x[1]||(w.hash="#"),w.query=r?t.decode(f.search.substr(1)):w.search.substr(1),w.pathname=E+(a?f.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):f.pathname),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),b&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),l&&!p.test(l)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[f.username,f.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=f.port,m&&!w.host.endsWith(m)&&(w.host+=m,w.port=m.slice(1)),w.href=E?""+w.pathname+w.search+w.hash:n(w);var B=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach(function(e){~B.indexOf(e)||(w[e]=w[e]||null)}),w}i.parse=v,i.format=n,i.resolve=f,i.resolveObject=function(e,t){return v(f(e,t))},i.Url=h}(),e.exports=i}()},5557:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u=[],l=!1,f=-1;function h(){l&&n&&(l=!1,n.length?u=n.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(n=u,u=[];++f<t;)n&&n[f].run();f=-1,t=u.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new c(e,t)),1!==u.length||l||s(p)},c.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},4593:function(e){!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(r);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var f,h,p,c,y=e[l].replace(a,"%20"),d=y.indexOf(n);(d>=0?(f=y.substr(0,d),h=y.substr(d+1)):(f=y,h=""),p=decodeURIComponent(f),c=decodeURIComponent(h),Object.prototype.hasOwnProperty.call(i,p))?t(i[p])?i[p].push(c):i[p]=[i[p],c]:i[p]=c}return i};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,a,s){return(i=i||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e)?n(o(e),function(o){var s=encodeURIComponent(t(o))+a;return r(e[o])?n(e[o],function(e){return s+encodeURIComponent(t(e))}).join(i):s+encodeURIComponent(t(e[o]))}).join(i):s?encodeURIComponent(t(s))+a+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o={};o.decode=o.parse=n(815),o.encode=o.stringify=n(577),e.exports=o}()},9992:function(e,t,r){"use strict";r.d(t,{YS:function(){return D}});var n=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),o=Object.freeze({set:n.Set,for:n.For,in:n.In,is:n.Is,if:n.If,else:n.Else,endif:n.EndIf,elif:n.ElseIf,endfor:n.EndFor,and:n.And,or:n.Or,not:n.Not,"not in":n.NotIn,true:n.BooleanLiteral,false:n.BooleanLiteral}),i=class{constructor(e,t){this.value=e,this.type=t}};function a(e){return/\w/.test(e)}function s(e){return/[0-9]/.test(e)}var u=[["{%",n.OpenStatement],["%}",n.CloseStatement],["{{",n.OpenExpression],["}}",n.CloseExpression],["(",n.OpenParen],[")",n.CloseParen],["{",n.OpenCurlyBracket],["}",n.CloseCurlyBracket],["[",n.OpenSquareBracket],["]",n.CloseSquareBracket],[",",n.Comma],[".",n.Dot],[":",n.Colon],["|",n.Pipe],["<=",n.ComparisonBinaryOperator],[">=",n.ComparisonBinaryOperator],["==",n.ComparisonBinaryOperator],["!=",n.ComparisonBinaryOperator],["<",n.ComparisonBinaryOperator],[">",n.ComparisonBinaryOperator],["+",n.AdditiveBinaryOperator],["-",n.AdditiveBinaryOperator],["*",n.MultiplicativeBinaryOperator],["/",n.MultiplicativeBinaryOperator],["%",n.MultiplicativeBinaryOperator],["=",n.Equals]],l=new Map([["n","\n"],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]),f=class{type="Statement"},h=class extends f{constructor(e){super(),this.body=e}type="Program"},p=class extends f{constructor(e,t,r){super(),this.test=e,this.body=t,this.alternate=r}type="If"},c=class extends f{constructor(e,t,r){super(),this.loopvar=e,this.iterable=t,this.body=r}type="For"},y=class extends f{constructor(e,t){super(),this.assignee=e,this.value=t}type="Set"},d=class extends f{type="Expression"},g=class extends d{constructor(e,t,r){super(),this.object=e,this.property=t,this.computed=r}type="MemberExpression"},v=class extends d{constructor(e,t){super(),this.callee=e,this.args=t}type="CallExpression"},m=class extends d{constructor(e){super(),this.value=e}type="Identifier"},w=class extends d{constructor(e){super(),this.value=e}type="Literal"},b=class extends w{type="NumericLiteral"},E=class extends w{type="StringLiteral"},x=class extends w{type="BooleanLiteral"},B=class extends w{type="ArrayLiteral"},A=class extends w{type="ObjectLiteral"},I=class extends d{constructor(e,t,r){super(),this.operator=e,this.left=t,this.right=r}type="BinaryExpression"},C=class extends d{constructor(e,t){super(),this.operand=e,this.filter=t}type="FilterExpression"},U=class extends d{constructor(e,t,r){super(),this.operand=e,this.negate=t,this.test=r}type="TestExpression"},O=class extends d{constructor(e,t){super(),this.operator=e,this.argument=t}type="UnaryExpression"},S=class extends d{constructor(e,t,r){super(),this.start=e,this.stop=t,this.step=r}type="SliceExpression"},k=class extends d{constructor(e,t){super(),this.key=e,this.value=t}type="KeywordArgumentExpression"};function T(e,t,r=1){void 0===t&&(t=e,e=0);let n=[];for(let o=e;o<t;o+=r)n.push(o);return n}function L(e,t,r,n=1){let o=Math.sign(n);o>=0?(t=(t??=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),r=(r??=e.length)<0?Math.max(e.length+r,0):Math.min(r,e.length)):(t=(t??=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),r=(r??=-1)<-1?Math.max(e.length+r,-1):Math.min(r,e.length-1));let i=[];for(let a=t;o*a<o*r;a+=n)i.push(e[a]);return i}function R(e){return e.replace(/\b\w/g,e=>e.toUpperCase())}var j=class{type="RuntimeValue";value;builtins=new Map;constructor(e){this.value=e}__bool__(){return new N(!!this.value)}},$=class extends j{type="NumericValue"},M=class extends j{type="StringValue";builtins=new Map([["upper",new _(()=>new M(this.value.toUpperCase()))],["lower",new _(()=>new M(this.value.toLowerCase()))],["strip",new _(()=>new M(this.value.trim()))],["title",new _(()=>new M(R(this.value)))],["length",new $(this.value.length)]])},N=class extends j{type="BooleanValue"},P=class extends j{type="ObjectValue";__bool__(){return new N(this.value.size>0)}builtins=new Map([["get",new _(([e,t])=>{if(!(e instanceof M))throw Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??t??new V})]])},F=class extends j{type="ArrayValue";builtins=new Map([["length",new $(this.value.length)]]);__bool__(){return new N(this.value.length>0)}},_=class extends j{type="FunctionValue"},V=class extends j{type="NullValue"},z=class extends j{type="UndefinedValue"},q=class{constructor(e){this.parent=e}variables=new Map([["namespace",new _(e=>{if(0===e.length)return new P(new Map);if(1!==e.length||!(e[0]instanceof P))throw Error("`namespace` expects either zero arguments or a single object argument");return e[0]})]]);tests=new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof _],["odd",e=>{if("NumericValue"!==e.type)throw Error(`Cannot apply test "odd" to type: ${e.type}`);return e.value%2!=0}],["even",e=>{if("NumericValue"!==e.type)throw Error(`Cannot apply test "even" to type: ${e.type}`);return e.value%2==0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>e instanceof F||e instanceof M],["lower",e=>{let t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{let t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value]]);set(e,t){return this.declareVariable(e,function e(t){switch(typeof t){case"number":return new $(t);case"string":return new M(t);case"boolean":return new N(t);case"object":if(null===t)return new V;if(Array.isArray(t))return new F(t.map(e));return new P(new Map(Object.entries(t).map(([t,r])=>[t,e(r)])));case"function":return new _((r,n)=>e(t(...r.map(e=>e.value))??null));default:throw Error(`Cannot convert to runtime value: ${t}`)}}(t))}declareVariable(e,t){if(this.variables.has(e))throw SyntaxError(`Variable already declared: ${e}`);return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw Error(`Unknown variable: ${e}`)}lookupVariable(e){try{return this.resolve(e).variables.get(e)??new z}catch{return new z}}},G=class{global;constructor(e){this.global=e??new q}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){let r=this.evaluate(e.left,t);switch(e.operator.value){case"and":return r.__bool__().value?this.evaluate(e.right,t):r;case"or":return r.__bool__().value?r:this.evaluate(e.right,t)}let n=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new N(r.value==n.value);case"!=":return new N(r.value!=n.value)}if(r instanceof z||n instanceof z)throw Error("Cannot perform operation on undefined values");if(r instanceof V||n instanceof V)throw Error("Cannot perform operation on null values");if(r instanceof $&&n instanceof $)switch(e.operator.value){case"+":return new $(r.value+n.value);case"-":return new $(r.value-n.value);case"*":return new $(r.value*n.value);case"/":return new $(r.value/n.value);case"%":return new $(r.value%n.value);case"<":return new N(r.value<n.value);case">":return new N(r.value>n.value);case">=":return new N(r.value>=n.value);case"<=":return new N(r.value<=n.value)}else if(r instanceof F&&n instanceof F){if("+"===e.operator.value)return new F(r.value.concat(n.value))}else if(n instanceof F){let t=void 0!==n.value.find(e=>e.value===r.value);switch(e.operator.value){case"in":return new N(t);case"not in":return new N(!t)}}if((r instanceof M||n instanceof M)&&"+"===e.operator.value)return new M(r.value.toString()+n.value.toString());if(r instanceof M&&n instanceof M)switch(e.operator.value){case"in":return new N(n.value.includes(r.value));case"not in":return new N(!n.value.includes(r.value))}if(r instanceof M&&n instanceof P)switch(e.operator.value){case"in":return new N(n.value.has(r.value));case"not in":return new N(!n.value.has(r.value))}throw SyntaxError(`Unknown operator "${e.operator.value}" between ${r.type} and ${n.type}`)}evaluateFilterExpression(e,t){let r=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){let t=e.filter;if(r instanceof F)switch(t.value){case"list":return r;case"first":return r.value[0];case"last":return r.value[r.value.length-1];case"length":return new $(r.value.length);case"reverse":return new F(r.value.reverse());case"sort":return new F(r.value.sort((e,t)=>{if(e.type!==t.type)throw Error(`Cannot compare different types: ${e.type} and ${t.type}`);switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw Error(`Cannot compare type: ${e.type}`)}}));default:throw Error(`Unknown ArrayValue filter: ${t.value}`)}else if(r instanceof M)switch(t.value){case"length":return new $(r.value.length);case"upper":return new M(r.value.toUpperCase());case"lower":return new M(r.value.toLowerCase());case"title":return new M(R(r.value));case"capitalize":return new M(r.value.charAt(0).toUpperCase()+r.value.slice(1));case"trim":return new M(r.value.trim());default:throw Error(`Unknown StringValue filter: ${t.value}`)}else if(r instanceof $){if("abs"===t.value)return new $(Math.abs(r.value));throw Error(`Unknown NumericValue filter: ${t.value}`)}throw Error(`Cannot apply filter "${t.value}" to type: ${r.type}`)}if("CallExpression"===e.filter.type){let n=e.filter;if("Identifier"!==n.callee.type)throw Error(`Unknown filter: ${n.callee.type}`);let o=n.callee.value;if(r instanceof F){if("selectattr"===o){let e;if(r.value.some(e=>!(e instanceof P)))throw Error("`selectattr` can only be applied to array of objects");if(n.args.some(e=>"StringLiteral"!==e.type))throw Error("arguments of `selectattr` must be strings");let[o,i,a]=n.args.map(e=>this.evaluate(e,t));if(i){let r=t.tests.get(i.value);if(!r)throw Error(`Unknown test: ${i.value}`);e=r}else e=(...e)=>e[0].__bool__().value;return new F(r.value.filter(t=>{let r=t.value.get(o.value);return!!r&&e(r,a)}))}throw Error(`Unknown ArrayValue filter: ${o}`)}throw Error(`Cannot apply filter "${o}" to type: ${r.type}`)}throw Error(`Unknown filter: ${e.filter.type}`)}evaluateTestExpression(e,t){let r=this.evaluate(e.operand,t),n=t.tests.get(e.test.value);if(!n)throw Error(`Unknown test: ${e.test.value}`);let o=n(r);return new N(e.negate?!o:o)}evaluateUnaryExpression(e,t){let r=this.evaluate(e.argument,t);if("not"===e.operator.value)return new N(!r.value);throw SyntaxError(`Unknown operator: ${e.operator.value}`)}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let r="";for(let n of e){let e=this.evaluate(n,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(r+=e.value)}return new M(r)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){let r=[],n=new Map;for(let o of e.args)"KeywordArgumentExpression"===o.type?n.set(o.key.value,this.evaluate(o.value,t)):r.push(this.evaluate(o,t));n.size>0&&r.push(new P(n));let o=this.evaluate(e.callee,t);if("FunctionValue"!==o.type)throw Error(`Cannot call something that is not a function: got ${o.type}`);return o.value(r,t)}evaluateSliceExpression(e,t,r){if(!(e instanceof F||e instanceof M))throw Error("Slice object must be an array or string");let n=this.evaluate(t.start,r),o=this.evaluate(t.stop,r),i=this.evaluate(t.step,r);if(!(n instanceof $||n instanceof z))throw Error("Slice start must be numeric or undefined");if(!(o instanceof $||o instanceof z))throw Error("Slice stop must be numeric or undefined");if(!(i instanceof $||i instanceof z))throw Error("Slice step must be numeric or undefined");return e instanceof F?new F(L(e.value,n.value,o.value,i.value)):new M(L(Array.from(e.value),n.value,o.value,i.value).join(""))}evaluateMemberExpression(e,t){let r,n;let o=this.evaluate(e.object,t);if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(o,e.property,t);r=this.evaluate(e.property,t)}else r=new M(e.property.value);if(o instanceof P){if(!(r instanceof M))throw Error(`Cannot access property with non-string: got ${r.type}`);n=o.value.get(r.value)??o.builtins.get(r.value)}else if(o instanceof F||o instanceof M){if(r instanceof $)n=o.value.at(r.value),o instanceof M&&(n=new M(o.value.at(r.value)));else if(r instanceof M)n=o.builtins.get(r.value);else throw Error(`Cannot access property with non-string/non-number: got ${r.type}`)}else{if(!(r instanceof M))throw Error(`Cannot access property with non-string: got ${r.type}`);n=o.builtins.get(r.value)}return n instanceof j?n:new z}evaluateSet(e,t){let r=this.evaluate(e.value,t);if("Identifier"===e.assignee.type){let n=e.assignee.value;t.setVariable(n,r)}else if("MemberExpression"===e.assignee.type){let n=e.assignee,o=this.evaluate(n.object,t);if(!(o instanceof P))throw Error("Cannot assign to member of non-object");if("Identifier"!==n.property.type)throw Error("Cannot assign to member with non-identifier property");o.value.set(n.property.value,r)}else throw Error(`Invalid LHS inside assignment expression: ${JSON.stringify(e.assignee)}`);return new V}evaluateIf(e,t){let r=this.evaluate(e.test,t);return this.evaluateBlock(r.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){let r=new q(t),n=this.evaluate(e.iterable,r);if(!(n instanceof F))throw Error(`Expected iterable type in for loop: got ${n.type}`);let o="";for(let t=0;t<n.value.length;++t){let i=new Map([["index",new $(t+1)],["index0",new $(t)],["revindex",new $(n.value.length-t)],["revindex0",new $(n.value.length-t-1)],["first",new N(0===t)],["last",new N(t===n.value.length-1)],["length",new $(n.value.length)],["previtem",t>0?n.value[t-1]:new z],["nextitem",t<n.value.length-1?n.value[t+1]:new z]]);r.setVariable("loop",new P(i)),r.setVariable(e.loopvar.value,n.value[t]),o+=this.evaluateBlock(e.body,r).value}return new M(o)}evaluate(e,t){if(void 0===e)return new z;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"NumericLiteral":return new $(Number(e.value));case"StringLiteral":return new M(e.value);case"BooleanLiteral":return new N(e.value);case"ArrayLiteral":return new F(e.value.map(e=>this.evaluate(e,t)));case"ObjectLiteral":{let r=new Map;for(let[n,o]of e.value){let e=this.evaluate(n,t);if(!(e instanceof M))throw Error(`Object keys must be strings: got ${e.type}`);r.set(e.value,this.evaluate(o,t))}return new P(r)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw SyntaxError(`Unknown node type: ${e.type}`)}}},D=class{parsed;constructor(e){let t=function(e,t={}){let r=[],f=function(e,t={}){return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#.*?#}/gs,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,t),h=0,p=e=>{let t="";for(;e(f[h]);){if("\\"===f[h]){if(++h>=f.length)throw SyntaxError("Unexpected end of input");let e=f[h++],r=l.get(e);if(void 0===r)throw SyntaxError(`Unexpected escaped character: ${e}`);t+=r;continue}if(t+=f[h++],h>=f.length)throw SyntaxError("Unexpected end of input")}return t};e:for(;h<f.length;){let e=r.at(-1)?.type;if(void 0===e||e===n.CloseStatement||e===n.CloseExpression){let e="";for(;h<f.length&&!("{"===f[h]&&("%"===f[h+1]||"{"===f[h+1]));)e+=f[h++];if(e.length>0){r.push(new i(e,n.Text));continue}}p(e=>/\s/.test(e));let t=f[h];if("-"===t||"+"===t){let e=r.at(-1)?.type;if(e===n.Text||void 0===e)throw SyntaxError(`Unexpected character: ${t}`);switch(e){case n.Identifier:case n.NumericLiteral:case n.BooleanLiteral:case n.StringLiteral:case n.CloseParen:case n.CloseSquareBracket:break;default:{++h;let e=p(s);r.push(new i(`${t}${e}`,e.length>0?n.NumericLiteral:n.UnaryOperator));continue}}}for(let[e,t]of u)if(f.slice(h,h+e.length)===e){r.push(new i(e,t)),h+=e.length;continue e}if("'"===t||'"'===t){++h;let e=p(e=>e!==t);r.push(new i(e,n.StringLiteral)),++h;continue}if(s(t)){let e=p(s);r.push(new i(e,n.NumericLiteral));continue}if(a(t)){let e=p(a),t=Object.hasOwn(o,e)?o[e]:n.Identifier;t===n.In&&r.at(-1)?.type===n.Not?(r.pop(),r.push(new i("not in",n.NotIn))):r.push(new i(e,t));continue}throw SyntaxError(`Unexpected character: ${t}`)}return r}(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=function(e){let t=new h([]),r=0;function o(t,n){let o=e[r++];if(!o||o.type!==t)throw Error(`Parser Error: ${n}. ${o.type} !== ${t}.`);return o}function i(...t){return r+t.length<=e.length&&t.every((t,n)=>t===e[r+n].type)}function a(){let e=s();if(i(n.If)){++r;let t=s();return o(n.Else,"Expected else token"),new p(t,[e],[s()])}return e}function s(){let t=u();for(;i(n.Or);){let n=e[r];++r,t=new I(n,t,u())}return t}function u(){let t=l();for(;i(n.And);){let n=e[r];++r,t=new I(n,t,l())}return t}function l(){let t;for(;i(n.Not);){let n=e[r];++r,t=new O(n,l())}return t??function(){let t=f();for(;i(n.ComparisonBinaryOperator)||i(n.In)||i(n.NotIn);){let n=e[r];++r,t=new I(n,t,f())}return t}()}function f(){let t=w();for(;i(n.AdditiveBinaryOperator);){let n=e[r];++r,t=new I(n,t,w())}return t}function d(e){let t=new v(e,function(){o(n.OpenParen,"Expected opening parenthesis for arguments list");let e=function(){let e=[];for(;!i(n.CloseParen);){let t=a();if(i(n.Equals)){if(++r,!(t instanceof m))throw SyntaxError("Expected identifier for keyword argument");t=new k(t,a())}e.push(t),i(n.Comma)&&++r}return e}();return o(n.CloseParen,"Expected closing parenthesis for arguments list"),e}());return i(n.OpenParen)&&(t=d(t)),t}function w(){let t=T();for(;i(n.MultiplicativeBinaryOperator);){let n=e[r];++r,t=new I(n,t,T())}return t}function T(){let t=function(){let t=function(){let t=function(){let t=L();for(;i(n.Dot)||i(n.OpenSquareBracket);){let s;let u=e[r];++r;let l=u.type!==n.Dot;if(l)s=function(){let e=[],t=!1;for(;!i(n.CloseSquareBracket);)i(n.Colon)?(e.push(void 0),++r,t=!0):(e.push(a()),i(n.Colon)&&(++r,t=!0));if(0===e.length)throw SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw SyntaxError("Expected 0-3 arguments for slice expression");return new S(...e)}return e[0]}(),o(n.CloseSquareBracket,"Expected closing square bracket");else if("Identifier"!==(s=L()).type)throw SyntaxError("Expected identifier following dot operator");t=new g(t,s,l)}return t}();return i(n.OpenParen)?d(t):t}();for(;i(n.Pipe);){++r;let e=L();if(!(e instanceof m))throw SyntaxError("Expected identifier for the filter");i(n.OpenParen)&&(e=d(e)),t=new C(t,e)}return t}();for(;i(n.Is);){++r;let e=i(n.Not);e&&++r;let o=L();if(o instanceof x&&(o=new m(o.value.toString())),!(o instanceof m))throw SyntaxError("Expected identifier for the test");t=new U(t,e,o)}return t}function L(){let t=e[r];switch(t.type){case n.NumericLiteral:return++r,new b(Number(t.value));case n.StringLiteral:return++r,new E(t.value);case n.BooleanLiteral:return++r,new x("true"===t.value);case n.Identifier:return++r,new m(t.value);case n.OpenParen:{++r;let t=a();if(e[r].type!==n.CloseParen)throw SyntaxError("Expected closing parenthesis");return++r,t}case n.OpenSquareBracket:{++r;let e=[];for(;!i(n.CloseSquareBracket);)e.push(a()),i(n.Comma)&&++r;return++r,new B(e)}case n.OpenCurlyBracket:{++r;let e=new Map;for(;!i(n.CloseCurlyBracket);){let t=a();o(n.Colon,"Expected colon between key and value in object literal");let s=a();e.set(t,s),i(n.Comma)&&++r}return++r,new A(e)}default:throw SyntaxError(`Unexpected token: ${t.type}`)}}for(;r<e.length;)t.body.push(function t(){switch(e[r].type){case n.Text:return new E(o(n.Text,"Expected text token").value);case n.OpenStatement:return function(){let s;switch(o(n.OpenStatement,"Expected opening statement token"),e[r].type){case n.Set:++r,s=function e(){let t=a();return i(n.Equals)?(++r,new y(t,e())):t}(),o(n.CloseStatement,"Expected closing statement token");break;case n.If:++r,s=function s(){let u=a();o(n.CloseStatement,"Expected closing statement token");let l=[],f=[];for(;!(e[r]?.type===n.OpenStatement&&(e[r+1]?.type===n.ElseIf||e[r+1]?.type===n.Else||e[r+1]?.type===n.EndIf));)l.push(t());if(e[r]?.type===n.OpenStatement&&e[r+1]?.type!==n.EndIf){if(++r,i(n.ElseIf))o(n.ElseIf,"Expected elseif token"),f.push(s());else for(o(n.Else,"Expected else token"),o(n.CloseStatement,"Expected closing statement token");!(e[r]?.type===n.OpenStatement&&e[r+1]?.type===n.EndIf);)f.push(t())}return new p(u,l,f)}(),o(n.OpenStatement,"Expected {% token"),o(n.EndIf,"Expected endif token"),o(n.CloseStatement,"Expected %} token");break;case n.For:++r,s=function(){let i=L();if(!(i instanceof m))throw SyntaxError("Expected identifier for the loop variable");o(n.In,"Expected `in` keyword following loop variable");let s=a();o(n.CloseStatement,"Expected closing statement token");let u=[];for(;function(...t){return r+t.length<=e.length&&t.some((t,n)=>t!==e[r+n].type)}(n.OpenStatement,n.EndFor);)u.push(t());return new c(i,s,u)}(),o(n.OpenStatement,"Expected {% token"),o(n.EndFor,"Expected endfor token"),o(n.CloseStatement,"Expected %} token");break;default:throw SyntaxError(`Unknown statement type: ${e[r].type}`)}return s}();case n.OpenExpression:return function(){o(n.OpenExpression,"Expected opening expression token");let e=a();return o(n.CloseExpression,"Expected closing expression token"),e}();default:throw SyntaxError(`Unexpected token type: ${e[r].type}`)}}());return t}(t)}render(e){let t=new q;for(let[r,n]of(t.set("false",!1),t.set("true",!0),t.set("raise_exception",e=>{throw Error(e)}),t.set("range",T),Object.entries(e)))t.set(r,n);return new G(t).run(this.parsed).value}}}}]);